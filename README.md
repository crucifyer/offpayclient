# offpayclient
https://offpay.kr/

### 오프페이는
* 안드로이드 뱅킹 앱의 알림을 인식하는 앱 입니다.
* 별도의 폰에 뱅킹앱과 오프페이앱을 설치하고 오프페이앱 화면을 열어두어야 합니다.
* 비싼 요금제를 쓸 필요는 없습니다. 알뜰폰 ktmmobile 의 초알뜰 함께쓰기 결합 요금제 > 데이터 함께쓰기 6분/500MB 가 저렴합니다. 사무실 wifi에 연결하세요. 
* 대부분의 뱅킹 앱은 다른 폰에서 실행할 경우 알림이 끊기므로 뱅킹은 PC 에서 하셔야 합니다.
* 공유기 wifi, 안드로이드 는 영원히 잘 동작하지 않습니다. 둘 다 적어도 일주일에 한번 이상 재시동을 해 주세요.
* 공유기와 안드로이드의 보안 업데이트도 함께 점검해주세요.
* 공유기 재동 재부팅 설정은 즉시 처리하지 못할 장애의 원인이 될 수 있으니 하지 마시기 바랍니다.

### 기능에 대해
* 받는이 계좌번호, 보내는이 이름, 입금금액 으로 구별하기에, 완전 동일한 요청은 차단됩니다.
* 동명이인에게는 다른 계좌를 노출하는 등의 전략이 필요합니다.
* 현금영수증의 직접 연동은 없고, 엑셀로 다운로드 받아 처리할 수 있게 되어 있습니다. 양식은 원하시는대로 맞춰드립니다.
* 아직 규모가 되는 고객사가 없어서 시도는 못했지만, 동명이인 문제가 해결될 만큼 계좌번호를 많이 확보하실 경우 예약 없이 이름만으로 입금처리 되는 프로세스를 만들어드릴 수 있습니다.

### 파일 설명
* Offpay.class.php 를 제외한 파일들은 예시를 위한 코드입니다. 수정해서 사용하세요.
* offpayapproval.html : 입금 예약 폼
* offpayreq.php : 입금 예약 실행
* offpaylist.php : 예약 내역 목록
* offpaynoti.php : 서버 통신 notification. 입금 통보, 수동 처리를 위한 고객 검색
